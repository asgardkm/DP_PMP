% clcDP_port_benchmark.m script
% for matlab_coder purposes - translating clcDP_port into c code

% define work directory
cd('C:\Users\s0032360\Documents\GitHub\DP_PMP\c_port');
% cd('/home/kaulef/Documents/DAAD/TUD/4Kaleb/RCP')

%% define clcDP_port structure inputs
% define init_port() inputs

% define mainConfig.txt string location
config_filename = 'mainConfig.txt';
% define raw data directory
datafile_dir    = 'raw_data';  
% bool for if user wishes to rewrite raw data
write_bool      = 1; 

% call init_port() - outputs are input structures to clcDP_port()
[inputparams, testparams, fahrparams, tst_array_struct, fzg_array_struct]...
         = init_port(config_filename, datafile_dir, write_bool);

% inputparams = load('inputparams');
% % 
% % % asign values from struct
% disFlg          = inputparams.disFlg;
% wayStp          = inputparams.wayStp;
% batEngStp       = inputparams.batEngStp;
% batEngBeg       = inputparams.batEngBeg;
% batPwrAux       = inputparams.batPwrAux;
% psiBatEng       = inputparams.psiBatEng;
% psiTim          = inputparams.psiTim;
% staChgPenCosVal = inputparams.staChgPenCosVal;
% wayInxBeg       = inputparams.wayInxBeg;
% wayInxEnd       = inputparams.wayInxEnd;
% staBeg          = inputparams.staBeg;

[engKinOptVec,      ... Vektor - Trajektorie der optimalen kin. Energien
    batEngDltOptVec,... Vektor - optimale Batterieenergie�nderung
    fulEngDltOptVec,... Vektor - optimale Kraftstoffenergie�nderung
    staVec,         ... Vektor - Trajektorie des optimalen Antriebsstrangzustands
    psiEngKinOptVec,... Vektor - costate f�r kinetische Energie
    fulEngOpt,      ... Skalar - optimale Kraftstoffenergie
    resVld]         ...
    = clcDP_port(   ...
    disFlg,         ...
    wayStp,         ...
    batEngStp,      ...
    batEngBeg,      ...
    batPwrAux,      ...
    psiBatEng,      ...
    psiTim,         ...
    staChgPenCosVal,...
    wayInxBeg,      ...
    wayInxEnd,      ...
    staBeg          ...
    );